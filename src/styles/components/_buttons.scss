@import '../base/variables';
@import '../utilities/mixins';

// Базовые кнопки
.btn {
  @include button-base;
  
  // Размеры
  &--sm {
    @include button-size(spacing(xs), spacing(sm), map-get($font-sizes, sm));
  }
  
  &--md {
    @include button-size(spacing(sm), spacing(md), map-get($font-sizes, base));
  }
  
  &--lg {
    @include button-size(spacing(md), spacing(lg), map-get($font-sizes, lg));
  }
  
  &--xl {
    @include button-size(spacing(lg), spacing(xl), map-get($font-sizes, xl));
  }
  
  // Варианты
  &--primary {
    @include button-variant(color(primary, 500), color(primary, 50));
    @include hover-lift;
    
    &:active {
      transform: translateY(-2px);
    }
  }
  
  &--secondary {
    @include button-variant(color(secondary, 500), color(secondary, 50));
    @include hover-scale;
  }
  
  &--outline {
    background-color: transparent;
    border: 2px solid color(primary, 500);
    color: color(primary, 500);
    
    &:hover {
      background-color: color(primary, 500);
      color: color(primary, 50);
    }
  }
  
  &--ghost {
    background-color: transparent;
    color: color(neutral, 700);
    
    &:hover {
      background-color: color(neutral, 100);
      color: color(neutral, 900);
    }
  }
  
  &--destructive {
    @include button-variant(color(error), white);
    @include hover-scale(1.02);
  }
  
  &--success {
    @include button-variant(color(success), white);
    @include hover-lift;
  }
  
  &--warning {
    @include button-variant(color(warning), white);
    @include hover-scale;
  }
  
  // Состояния
  &--loading {
    position: relative;
    color: transparent;
    
    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 16px;
      height: 16px;
      margin: -8px 0 0 -8px;
      border: 2px solid currentColor;
      border-top-color: transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
  }
  
  &--disabled {
    opacity: 0.6;
    cursor: not-allowed;
    
    &:hover {
      transform: none;
    }
  }
  
  // Иконки
  &--icon-only {
    padding: 0;
    width: 40px;
    height: 40px;
    
    &.btn--sm {
      width: 32px;
      height: 32px;
    }
    
    &.btn--lg {
      width: 48px;
      height: 48px;
    }
    
    &.btn--xl {
      width: 56px;
      height: 56px;
    }
  }
  
  &__icon {
    margin-right: spacing(xs);
    
    .btn--icon-only & {
      margin-right: 0;
    }
  }
  
  &__text {
    .btn--icon-only & {
      @include sr-only;
    }
  }
  
  // Группы кнопок
  &-group {
    display: inline-flex;
    
    .btn {
      border-radius: 0;
      
      &:first-child {
        border-top-left-radius: map-get($border-radius, md);
        border-bottom-left-radius: map-get($border-radius, md);
      }
      
      &:last-child {
        border-top-right-radius: map-get($border-radius, md);
        border-bottom-right-radius: map-get($border-radius, md);
      }
      
      &:not(:last-child) {
        border-right: 1px solid color(neutral, 200);
      }
    }
  }
  
  // Адаптивность
  @include respond-to(sm) {
    &--responsive {
      width: 100%;
      
      @include respond-to(md) {
        width: auto;
      }
    }
  }
}

// Кнопки с градиентами
.btn--gradient {
  @include gradient-linear(to right, color(primary, 500), color(primary, 600));
  color: white;
  @include hover-glow(color(primary, 500));
  
  &:hover {
    @include gradient-linear(to right, color(primary, 600), color(primary, 700));
  }
}

.btn--gradient-secondary {
  @include gradient-linear(to right, color(secondary, 500), color(secondary, 600));
  color: white;
  @include hover-glow(color(secondary, 500));
  
  &:hover {
    @include gradient-linear(to right, color(secondary, 600), color(secondary, 700));
  }
}

// Кнопки с тенями
.btn--shadow {
  box-shadow: map-get($shadows, md);
  
  &:hover {
    box-shadow: map-get($shadows, lg);
  }
  
  &:active {
    box-shadow: map-get($shadows, sm);
  }
}

// Кнопки с анимацией появления
.btn--animated {
  @include fade-in-up;
  
  &:nth-child(1) { animation-delay: 0.1s; }
  &:nth-child(2) { animation-delay: 0.2s; }
  &:nth-child(3) { animation-delay: 0.3s; }
  &:nth-child(4) { animation-delay: 0.4s; }
}

// Кнопки для мобильных устройств
.btn--mobile {
  @include respond-to(sm) {
    min-height: 44px; // Минимальная высота для touch устройств
    padding: spacing(sm) spacing(md);
  }
}

// Кнопки для печати
@media print {
  .btn {
    display: none;
    
    &--print-visible {
      display: inline-block;
      background: none !important;
      border: 1px solid #000 !important;
      color: #000 !important;
      box-shadow: none !important;
    }
  }
}

// Анимация вращения для загрузки
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
} 